<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.sn.smart.order.dao.OrderDao">

	<resultMap id="BaseResultMap" type="com.sn.smart.order.entity.Order">
		<id column="id" property="id" jdbcType="VARCHAR" />
		<result column="parent_id" property="parentId" jdbcType="VARCHAR" />
		<result column="main_order_flag" property="mainOrderFlag" jdbcType="DECIMAL" />
		<result column="has_child_flag" property="hasChildFlag" jdbcType="DECIMAL" />
		<result column="area_code" property="areaCode" jdbcType="VARCHAR" />
		<result column="area_name" property="areaName" jdbcType="VARCHAR" />
		<result column="system_code" property="systemCode" jdbcType="VARCHAR" />
		<result column="system_name" property="systemName" jdbcType="VARCHAR" />
		<result column="order_no" property="orderNo" jdbcType="VARCHAR" />
		<result column="trade_no" property="tradeNo" jdbcType="VARCHAR" />
		<result column="order_name" property="orderName" jdbcType="VARCHAR" />
		<result column="order_type" property="orderType" jdbcType="DECIMAL" />
		<result column="order_type_name" property="orderTypeName" jdbcType="VARCHAR" />
		<result column="order_remark" property="orderRemark" jdbcType="VARCHAR" />
		<result column="merchant_id" property="merchantId" jdbcType="VARCHAR" />
		<result column="merchant_name" property="merchantName" jdbcType="VARCHAR" />
		<result column="merchant_img_url" property="merchantImgUrl" jdbcType="VARCHAR" />
		<result column="branch_id" property="branchId" jdbcType="VARCHAR" />
		<result column="branch_name" property="branchName" jdbcType="VARCHAR" />
		<result column="branch_img_url" property="branchImgUrl" jdbcType="VARCHAR" />
		<result column="product_id" property="productId" jdbcType="VARCHAR" />
		<result column="product_name" property="productName" jdbcType="VARCHAR" />
		<result column="product_img_url" property="productImgUrl" jdbcType="VARCHAR" />
		<result column="product_price" property="productPrice" jdbcType="DECIMAL" />
		<result column="product_num" property="productNum" jdbcType="DECIMAL" />
		<result column="product_total_price" property="productTotalPrice" jdbcType="DECIMAL" />
		<result column="coupon_amount" property="couponAmount" jdbcType="DECIMAL" />
		<result column="carriage_fee" property="carriageFee" jdbcType="DECIMAL" />
		<result column="cashback_amount" property="cashbackAmount" jdbcType="DECIMAL" />
		<result column="gift_card_amount" property="giftCardAmount" jdbcType="DECIMAL" />
		<result column="refund_amount" property="refundAmount" jdbcType="DECIMAL" />
		<result column="actual_paid_amount" property="actualPaidAmount" jdbcType="DECIMAL" />
		<result column="order_state" property="orderState" jdbcType="DECIMAL" />
		<result column="service_state" property="serviceState" jdbcType="DECIMAL" />
		<result column="support_exchange_flag" property="supportExchangeFlag" jdbcType="DECIMAL" />
		<result column="support_refund_flag" property="supportRefundFlag" jdbcType="DECIMAL" />
		<result column="support_billing_flag" property="supportBillingFlag" jdbcType="DECIMAL" />
		<result column="support_sell_flag" property="supportSellFlag" jdbcType="DECIMAL" />
		<result column="billing_flag" property="billingFlag" jdbcType="DECIMAL" />
		<result column="sell_flag" property="sellFlag" jdbcType="DECIMAL" />
		<result column="support_service_flag" property="supportServiceFlag" jdbcType="DECIMAL" />
		<result column="service_flag" property="serviceFlag" jdbcType="DECIMAL" />
		<result column="evaluate_flag" property="evaluateFlag" jdbcType="DECIMAL" />
		<result column="product_user_num" property="productUserNum" jdbcType="DECIMAL" />
		<result column="create_user" property="createUser" jdbcType="VARCHAR" />
		<result column="create_user_name" property="createUserName" jdbcType="VARCHAR" />
		<result column="create_time" property="createTime" jdbcType="TIMESTAMP" />
		<result column="order_source" property="orderSource" jdbcType="DECIMAL" />
		<result column="logistics_id" property="logisticsId" jdbcType="VARCHAR" />
		<result column="modify_user" property="modifyUser" jdbcType="VARCHAR" />
		<result column="modify_user_name" property="modifyUserName" jdbcType="VARCHAR" />
		<result column="modify_time" property="modifyTime" jdbcType="TIMESTAMP" />
	</resultMap>

	<sql id="Base_Column_List">
		id, parent_id, main_order_flag,has_child_flag,
		area_code,area_name,system_code, system_name,order_no,
		trade_no,
		order_name,
		order_type,
		order_type_name,
		order_remark, merchant_id,
		merchant_name,
		merchant_img_url,branch_id,branch_name,branch_img_url,
		product_id,
		product_name,
		product_img_url,
		product_price, product_num,
		product_total_price,
		coupon_amount,
		carriage_fee, cashback_amount,
		gift_card_amount, refund_amount,
		actual_paid_amount,
		order_state,
		service_state,
		support_exchange_flag,
		support_refund_flag,
		support_billing_flag,
		support_sell_flag,
		billing_flag, sell_flag,
		support_service_flag,
		service_flag,
		evaluate_flag,
		product_user_num,
		create_user,
		(select t.name from t_order_user t where t.id = create_user) as create_user_name,
		create_time,
		order_source, logistics_id,
		modify_user,
		(select t.name from t_order_user t where t.id = modify_user) as modify_user_name,
		modify_time
	</sql>

	<sql id="Common_Where">
		<where>
			and order_state <![CDATA[ != ]]> 0
			<if test="orderConditionDto.id != null">
				and id = #{orderConditionDto.id,jdbcType=VARCHAR}
			</if>
			<if test="orderConditionDto.parentId != null">
				and parent_id = #{orderConditionDto.parentId,jdbcType=VARCHAR}
			</if>
			<if test="orderConditionDto.mainOrderFlag != null">
				and main_order_flag = #{orderConditionDto.mainOrderFlag,jdbcType=DECIMAL}
			</if>
			<if test="orderConditionDto.hasChildFlag != null">
				and has_child_flag = #{orderConditionDto.hasChildFlag,jdbcType=DECIMAL}
			</if>
			<if test="orderConditionDto.areaCode != null">
				and area_code = #{orderConditionDto.areaCode,jdbcType=VARCHAR}
			</if>
			<if test="orderConditionDto.areaName != null">
				and area_name like '%' || #{orderConditionDto.areaName,jdbcType=VARCHAR} || '%'
			</if>
			<if test="orderConditionDto.systemCode != null">
				and system_code = #{orderConditionDto.systemCode,jdbcType=VARCHAR}
			</if>
			<if test="orderConditionDto.systemName != null">
				and system_name like '%' || #{orderConditionDto.systemName,jdbcType=VARCHAR} || '%'
			</if>
			<if test="orderConditionDto.orderNo != null">
				and order_no like '%' || #{orderConditionDto.orderNo,jdbcType=VARCHAR} || '%'
			</if>
			<if test="orderConditionDto.tradeNo != null">
				and trade_no like '%' || #{orderConditionDto.tradeNo,jdbcType=VARCHAR} || '%'
			</if>
			<if test="orderConditionDto.orderName != null">
				and order_name like '%' || #{orderConditionDto.orderName,jdbcType=VARCHAR} || '%'
			</if>
			<if test="orderConditionDto.orderType != null">
				and order_type = #{orderConditionDto.orderType,jdbcType=DECIMAL}
			</if>
			<if test="orderConditionDto.orderTypeName != null">
				and order_type_name like '%' || #{orderConditionDto.orderTypeName,jdbcType=VARCHAR} || '%'
			</if>
			<if test="orderConditionDto.orderRemark != null">
				and order_remark like '%' || #{orderConditionDto.orderRemark,jdbcType=VARCHAR} || '%'
			</if>
			<if test="orderConditionDto.merchantId != null">
				and merchant_id = #{orderConditionDto.merchantId,jdbcType=VARCHAR}
			</if>
			<if test="orderConditionDto.merchantName != null">
				and merchant_name like '%' || #{orderConditionDto.merchantName,jdbcType=VARCHAR} || '%'
			</if>
			<if test="orderConditionDto.merchantImgUrl != null">
				and merchant_img_url like '%' || #{orderConditionDto.merchantImgUrl,jdbcType=VARCHAR} || '%'
			</if>
			<if test="orderConditionDto.branchId != null">
				and branch_id = #{orderConditionDto.branchId,jdbcType=VARCHAR}
			</if>
			<if test="orderConditionDto.branchName != null">
				and branch_name like '%' || #{orderConditionDto.branchName,jdbcType=VARCHAR} || '%'
			</if>
			<if test="orderConditionDto.branchImgUrl != null">
				and branch_img_url like '%' || #{orderConditionDto.branchImgUrl,jdbcType=VARCHAR} || '%'
			</if>
			<if test="orderConditionDto.productId != null">
				and product_id = #{orderConditionDto.productId,jdbcType=VARCHAR}
			</if>
			<if test="orderConditionDto.productName != null">
				and product_name like '%' || #{orderConditionDto.productName,jdbcType=VARCHAR} || '%'
			</if>
			<if test="orderConditionDto.productImgUrl != null">
				and product_img_url like '%' || #{orderConditionDto.productImgUrl,jdbcType=VARCHAR} || '%'
			</if>
			<if test="orderConditionDto.productPrice != null">
				and product_price = #{orderConditionDto.product_price,jdbcType=DECIMAL}
			</if>
			<if test="orderConditionDto.productNum != null">
				and product_num = #{orderConditionDto.productNum,jdbcType=DECIMAL}
			</if>
			<if test="orderConditionDto.productTotalPrice != null">
				and product_total_price = #{orderConditionDto.productTotalPrice,jdbcType=DECIMAL}
			</if>
			<if test="orderConditionDto.couponAmount != null">
				and coupon_amount = #{orderConditionDto.couponAmount,jdbcType=DECIMAL}
			</if>
			<if test="orderConditionDto.carriageFee != null">
				and carriage_fee = #{orderConditionDto.carriageFee,jdbcType=DECIMAL}
			</if>
			<if test="orderConditionDto.cashbackAmount != null">
				and cashback_amount = #{orderConditionDto.cashbackAmount,jdbcType=DECIMAL}
			</if>
			<if test="orderConditionDto.giftCardAmount != null">
				and gift_card_amount = #{orderConditionDto.giftCardAmount,jdbcType=DECIMAL}
			</if>
			<if test="orderConditionDto.refundAmount != null">
				and refund_amount = #{orderConditionDto.refundAmount,jdbcType=DECIMAL}
			</if>
			<if test="orderConditionDto.actualPaidAmount != null">
				and actual_paid_amount = #{orderConditionDto.actualPaidAmount,jdbcType=DECIMAL}
			</if>
			<if test="orderConditionDto.orderState != null">
				and order_state = #{orderConditionDto.orderState,jdbcType=DECIMAL}
			</if>
			<if test="orderConditionDto.serviceState != null">
				and service_state = #{orderConditionDto.serviceState,jdbcType=DECIMAL}
			</if>
			<if test="orderConditionDto.supportExchangeFlag != null">
				and support_exchange_flag = #{orderConditionDto.supportExchangeFlag,jdbcType=DECIMAL}
			</if>
			<if test="orderConditionDto.supportRefundFlag != null">
				and support_refund_flag = #{orderConditionDto.supportRefundFlag,jdbcType=DECIMAL}
			</if>
			<if test="orderConditionDto.supportBillingFlag != null">
				and support_billing_flag = #{orderConditionDto.supportBillingFlag,jdbcType=DECIMAL}
			</if>
			<if test="orderConditionDto.supportSellFlag != null">
				and support_sell_flag = #{orderConditionDto.supportSellFlag,jdbcType=DECIMAL}
			</if>
			<if test="orderConditionDto.billingFlag != null">
				and billing_flag = #{orderConditionDto.billingFlag,jdbcType=DECIMAL}
			</if>
			<if test="orderConditionDto.sellFlag != null">
				and sell_flag = #{orderConditionDto.sellFlag,jdbcType=DECIMAL}
			</if>
			<if test="orderConditionDto.supportServiceFlag != null">
				and support_service_flag = #{orderConditionDto.supportServiceFlag,jdbcType=DECIMAL}
			</if>
			<if test="orderConditionDto.serviceFlag != null">
				and service_flag = #{orderConditionDto.serviceFlag,jdbcType=DECIMAL}
			</if>
			<if test="orderConditionDto.evaluateFlag != null">
				and evaluate_flag = #{orderConditionDto.evaluateFlag,jdbcType=DECIMAL}
			</if>
			<if test="orderConditionDto.productUserNum != null">
				and product_user_num = #{orderConditionDto.productUserNum,jdbcType=DECIMAL}
			</if>
			<if test="orderConditionDto.createUser != null">
				and create_user = #{orderConditionDto.createUser,jdbcType=VARCHAR}
			</if>
			<if test="orderConditionDto.createUserName != null">
				and create_user in (select t.id from t_order_user t where t.name like '%' || #{orderConditionDto.createUserName, jdbcType=VARCHAR} || '%')
			</if>
			<if test="orderConditionDto.createTime != null">
				and create_time = #{orderConditionDto.createTime,jdbcType=TIMESTAMP}
			</if>
			<if test="orderConditionDto.orderSource != null">
				and order_source = #{orderConditionDto.orderSource,jdbcType=DECIMAL}
			</if>
			<if test="orderConditionDto.logisticsId != null">
				and logistics_id = #{orderConditionDto.logisticsId,jdbcType=VARCHAR}
			</if>
			<if test="orderConditionDto.modifyUser != null">
				and modify_user = #{orderConditionDto.modifyUser,jdbcType=VARCHAR}
			</if>
			<if test="orderConditionDto.modifyUserName != null">
				and modify_user in (select t.id from t_order_user t where t.name like '%' || #{orderConditionDto.modifyUserName, jdbcType=VARCHAR} || '%')
			</if>
			<if test="orderConditionDto.modifyTime != null">
				and modify_time = #{orderConditionDto.modifyTime,jdbcType=TIMESTAMP}
			</if>
			<if test="orderConditionDto.startTime != null">
				and create_time <![CDATA[ >= ]]> #{orderConditionDto.startTime,jdbcType=TIMESTAMP}
			</if>
			<if test="orderConditionDto.endTime != null">
				and create_time <![CDATA[ <= ]]> #{orderConditionDto.endTime,jdbcType=TIMESTAMP}
			</if>
			<if test="orderConditionDto.startMTime != null">
				and modify_time <![CDATA[ >= ]]> #{orderConditionDto.startMTime,jdbcType=TIMESTAMP}
			</if>
			<if test="orderConditionDto.endMTime != null">
				and modify_time <![CDATA[ <= ]]> #{orderConditionDto.endMTime,jdbcType=TIMESTAMP}
			</if>
			<if test="orderConditionDto.orderTypeList != null">
				<foreach collection="orderConditionDto.orderTypeList" index="index"
					item="item" open="and order_type in (" separator="," close=")">
					${item}
				</foreach>
			</if>
			<if test="orderConditionDto.orderStateList != null">
				<foreach collection="orderConditionDto.orderStateList"
					index="index" item="item" open="and order_state in (" separator=","
					close=")">
					${item}
				</foreach>
			</if>
			<if test="orderConditionDto.serviceStateList != null">
				<foreach collection="orderConditionDto.serviceStateList"
					index="index" item="item" open="and service_state in (" separator=","
					close=")">
					${item}
				</foreach>
			</if>
			<if test="orderConditionDto.orderSourceList != null">
				<foreach collection="orderConditionDto.orderSourceList"
					index="index" item="item" open="and order_source in (" separator=","
					close=")">
					${item}
				</foreach>
			</if>
			<if test="orderConditionDto.keyword != null">
				<foreach collection="orderConditionDto.keywordCloumnList"
					index="index" item="item" open="and (" separator="or" close=")">
					${item} like '%' || #{orderConditionDto.keyword,jdbcType=VARCHAR} || '%'
				</foreach>
			</if>
		</where>
	</sql>

	<select id="getOrderById" resultMap="BaseResultMap"
		parameterType="java.lang.String">
		select
		<include refid="Base_Column_List" />
		from t_order
		where id = #{id,jdbcType=VARCHAR}
		and order_state <![CDATA[ != ]]> 0
	</select>

	<select id="getOrderByNo" resultMap="BaseResultMap"
		parameterType="java.lang.String">
		select
		<include refid="Base_Column_List" />
		from t_order
		where order_no = #{orderNo,jdbcType=VARCHAR}
		and order_state <![CDATA[ != ]]> 0
	</select>

	<select id="getOrderPageListByCondition" resultMap="BaseResultMap">
		select
		<include refid="Base_Column_List" />
		from t_order
		<include refid="Common_Where" />
		order by create_time desc
	</select>

	<select id="getOrderPageListByMultiCondition" resultMap="BaseResultMap">
		select
		<include refid="Base_Column_List" />
		<foreach collection="orderMultiConditionDto.orderConditionList"
			item="orderConditionDto" index="index" open="from (" separator="union all"
			close=")">
			select
			<include refid="Base_Column_List" />
			from t_order
			<include refid="Common_Where" />
		</foreach>
		order by create_time desc
	</select>

	<insert id="insertOrder" parameterType="com.sn.smart.order.entity.Order">
		insert into t_order
		<trim prefix="(" suffix=")" suffixOverrides=",">
			<if test="id != null">
				id,
			</if>
			<if test="parentId != null">
				parent_id,
			</if>
			<if test="mainOrderFlag != null">
				main_order_flag,
			</if>
			<if test="hasChildFlag != null">
				has_child_flag,
			</if>
			<if test="areaCode != null">
				area_code,
			</if>
			<if test="areaName != null">
				area_name,
			</if>
			<if test="systemCode != null">
				system_code,
			</if>
			<if test="systemName != null">
				system_name,
			</if>
			<if test="orderNo != null">
				order_no,
			</if>
			<if test="tradeNo != null">
				trade_no,
			</if>
			<if test="orderName != null">
				order_name,
			</if>
			<if test="orderType != null">
				order_type,
			</if>
			<if test="orderTypeName != null">
				order_type_name,
			</if>
			<if test="orderRemark != null">
				order_remark,
			</if>
			<if test="merchantId != null">
				merchant_id,
			</if>
			<if test="merchantName != null">
				merchant_name,
			</if>
			<if test="merchantImgUrl != null">
				merchant_img_url,
			</if>
			<if test="branchId != null">
				branch_id,
			</if>
			<if test="branchName != null">
				branch_name,
			</if>
			<if test="branchImgUrl != null">
				branch_img_url,
			</if>
			<if test="productId != null">
				product_id,
			</if>
			<if test="productName != null">
				product_name,
			</if>
			<if test="productImgUrl != null">
				product_img_url,
			</if>
			<if test="productPrice != null">
				product_price,
			</if>
			<if test="productNum != null">
				product_num,
			</if>
			<if test="productTotalPrice != null">
				product_total_price,
			</if>
			<if test="couponAmount != null">
				coupon_amount,
			</if>
			<if test="carriageFee != null">
				carriage_fee,
			</if>
			<if test="cashbackAmount != null">
				cashback_amount,
			</if>
			<if test="giftCardAmount != null">
				gift_card_amount,
			</if>
			<if test="refundAmount != null">
				refund_amount,
			</if>
			<if test="actualPaidAmount != null">
				actual_paid_amount,
			</if>
			<if test="orderState != null">
				order_state,
			</if>
			<if test="serviceState != null">
				service_state,
			</if>
			<if test="supportExchangeFlag != null">
				support_exchange_flag,
			</if>
			<if test="supportRefundFlag != null">
				support_refund_flag,
			</if>
			<if test="supportBillingFlag != null">
				support_billing_flag,
			</if>
			<if test="supportSellFlag != null">
				support_sell_flag,
			</if>
			<if test="billingFlag != null">
				billing_flag,
			</if>
			<if test="sellFlag != null">
				sell_flag,
			</if>
			<if test="supportServiceFlag != null">
				support_service_flag,
			</if>
			<if test="serviceFlag != null">
				service_flag,
			</if>
			<if test="evaluateFlag != null">
				evaluate_flag,
			</if>
			<if test="productUserNum != null">
				product_user_num,
			</if>
			<if test="createUser != null">
				create_user,
			</if>
			<if test="createTime != null">
				create_time,
			</if>
			<if test="orderSource != null">
				order_source,
			</if>
			<if test="logisticsId != null">
				logistics_id,
			</if>
			<if test="modifyUser != null">
				modify_user,
			</if>
			<if test="modifyTime != null">
				modify_time,
			</if>
		</trim>
		<trim prefix="values (" suffix=")" suffixOverrides=",">
			<if test="id != null">
				#{id,jdbcType=VARCHAR},
			</if>
			<if test="parentId != null">
				#{parentId,jdbcType=VARCHAR},
			</if>
			<if test="mainOrderFlag != null">
				#{mainOrderFlag,jdbcType=DECIMAL},
			</if>
			<if test="hasChildFlag != null">
				#{hasChildFlag,jdbcType=DECIMAL},
			</if>
			<if test="areaCode != null">
				#{areaCode,jdbcType=VARCHAR},
			</if>
			<if test="areaName != null">
				#{areaName,jdbcType=VARCHAR},
			</if>
			<if test="systemCode != null">
				#{systemCode,jdbcType=VARCHAR},
			</if>
			<if test="systemName != null">
				#{systemName,jdbcType=VARCHAR},
			</if>
			<if test="orderNo != null">
				#{orderNo,jdbcType=VARCHAR},
			</if>
			<if test="tradeNo != null">
				#{tradeNo,jdbcType=VARCHAR},
			</if>
			<if test="orderName != null">
				#{orderName,jdbcType=VARCHAR},
			</if>
			<if test="orderType != null">
				#{orderType,jdbcType=DECIMAL},
			</if>
			<if test="orderTypeName != null">
				#{orderTypeName,jdbcType=DECIMAL},
			</if>
			<if test="orderRemark != null">
				#{orderRemark,jdbcType=VARCHAR},
			</if>
			<if test="merchantId != null">
				#{merchantId,jdbcType=VARCHAR},
			</if>
			<if test="merchantName != null">
				#{merchantName,jdbcType=VARCHAR},
			</if>
			<if test="merchantImgUrl != null">
				#{merchantImgUrl,jdbcType=VARCHAR},
			</if>
			<if test="branchId != null">
				#{branchId,jdbcType=VARCHAR},
			</if>
			<if test="branchName != null">
				#{branchName,jdbcType=VARCHAR},
			</if>
			<if test="branchImgUrl != null">
				#{branchImgUrl,jdbcType=VARCHAR},
			</if>
			<if test="productId != null">
				#{productId,jdbcType=VARCHAR},
			</if>
			<if test="productName != null">
				#{productName,jdbcType=VARCHAR},
			</if>
			<if test="productImgUrl != null">
				#{productImgUrl,jdbcType=VARCHAR},
			</if>
			<if test="productPrice != null">
				#{productPrice,jdbcType=DECIMAL},
			</if>
			<if test="productNum != null">
				#{productNum,jdbcType=DECIMAL},
			</if>
			<if test="productTotalPrice != null">
				#{productTotalPrice,jdbcType=DECIMAL},
			</if>
			<if test="couponAmount != null">
				#{couponAmount,jdbcType=DECIMAL},
			</if>
			<if test="carriageFee != null">
				#{carriageFee,jdbcType=DECIMAL},
			</if>
			<if test="cashbackAmount != null">
				#{cashbackAmount,jdbcType=DECIMAL},
			</if>
			<if test="giftCardAmount != null">
				#{giftCardAmount,jdbcType=DECIMAL},
			</if>
			<if test="refundAmount != null">
				#{refundAmount,jdbcType=DECIMAL},
			</if>
			<if test="actualPaidAmount != null">
				#{actualPaidAmount,jdbcType=DECIMAL},
			</if>
			<if test="orderState != null">
				#{orderState,jdbcType=DECIMAL},
			</if>
			<if test="serviceState != null">
				#{serviceState,jdbcType=DECIMAL},
			</if>
			<if test="supportExchangeFlag != null">
				#{supportExchangeFlag,jdbcType=DECIMAL},
			</if>
			<if test="supportRefundFlag != null">
				#{supportRefundFlag,jdbcType=DECIMAL},
			</if>
			<if test="supportBillingFlag != null">
				#{supportBillingFlag,jdbcType=DECIMAL},
			</if>
			<if test="supportSellFlag != null">
				#{supportSellFlag,jdbcType=DECIMAL},
			</if>
			<if test="billingFlag != null">
				#{billingFlag,jdbcType=DECIMAL},
			</if>
			<if test="sellFlag != null">
				#{sellFlag,jdbcType=DECIMAL},
			</if>
			<if test="supportServiceFlag != null">
				#{supportServiceFlag,jdbcType=DECIMAL},
			</if>
			<if test="serviceFlag != null">
				#{serviceFlag,jdbcType=DECIMAL},
			</if>
			<if test="evaluateFlag != null">
				#{evaluateFlag,jdbcType=DECIMAL},
			</if>
			<if test="productUserNum != null">
				#{productUserNum,jdbcType=DECIMAL},
			</if>
			<if test="createUser != null">
				#{createUser,jdbcType=VARCHAR},
			</if>
			<if test="createTime != null">
				#{createTime,jdbcType=TIMESTAMP},
			</if>
			<if test="orderSource != null">
				#{orderSource,jdbcType=DECIMAL},
			</if>
			<if test="logisticsId != null">
				#{logisticsId,jdbcType=VARCHAR},
			</if>
			<if test="modifyUser != null">
				#{modifyUser,jdbcType=VARCHAR},
			</if>
			<if test="modifyTime != null">
				#{modifyTime,jdbcType=TIMESTAMP},
			</if>
		</trim>
	</insert>

	<insert id="bachInsertOrder">
		begin
		<foreach collection="list" item="item" index="index"
			separator=";" close=";">
			insert into t_order
			<trim prefix="(" suffix=")" suffixOverrides=",">
				<if test="item.id != null">
					id,
				</if>
				<if test="item.parentId != null">
					parent_id,
				</if>
				<if test="item.mainOrderFlag != null">
					main_order_flag,
				</if>
				<if test="item.hasChildFlag != null">
					has_child_flag,
				</if>
				<if test="item.areaCode != null">
					area_code,
				</if>
				<if test="item.areaName != null">
					area_name,
				</if>
				<if test="item.systemCode != null">
					system_code,
				</if>
				<if test="item.systemName != null">
					system_name,
				</if>
				<if test="item.orderNo != null">
					order_no,
				</if>
				<if test="item.tradeNo != null">
					trade_no,
				</if>
				<if test="item.orderName != null">
					order_name,
				</if>
				<if test="item.orderType != null">
					order_type,
				</if>
				<if test="item.orderTypeName != null">
					order_type_name,
				</if>
				<if test="item.orderRemark != null">
					order_remark,
				</if>
				<if test="item.merchantId != null">
					merchant_id,
				</if>
				<if test="item.merchantName != null">
					merchant_name,
				</if>
				<if test="item.merchantImgUrl != null">
					merchant_img_url,
				</if>
				<if test="item.branchId != null">
					branch_id,
				</if>
				<if test="item.branchName != null">
					branch_name,
				</if>
				<if test="item.branchImgUrl != null">
					branch_img_url,
				</if>
				<if test="item.productId != null">
					product_id,
				</if>
				<if test="item.productName != null">
					product_name,
				</if>
				<if test="item.productImgUrl != null">
					product_img_url,
				</if>
				<if test="item.productPrice != null">
					product_price,
				</if>
				<if test="item.productNum != null">
					product_num,
				</if>
				<if test="item.productTotalPrice != null">
					product_total_price,
				</if>
				<if test="item.couponAmount != null">
					coupon_amount,
				</if>
				<if test="item.carriageFee != null">
					carriage_fee,
				</if>
				<if test="item.cashbackAmount != null">
					cashback_amount,
				</if>
				<if test="item.giftCardAmount != null">
					gift_card_amount,
				</if>
				<if test="item.refundAmount != null">
					refund_amount,
				</if>
				<if test="item.actualPaidAmount != null">
					actual_paid_amount,
				</if>
				<if test="item.orderState != null">
					order_state,
				</if>
				<if test="item.serviceState != null">
					service_state,
				</if>
				<if test="item.supportExchangeFlag != null">
					support_exchange_flag,
				</if>
				<if test="item.supportRefundFlag != null">
					support_refund_flag,
				</if>
				<if test="item.supportBillingFlag != null">
					support_billing_flag,
				</if>
				<if test="item.supportSellFlag != null">
					support_sell_flag,
				</if>
				<if test="item.billingFlag != null">
					billing_flag,
				</if>
				<if test="item.sellFlag != null">
					sell_flag,
				</if>
				<if test="item.supportServiceFlag != null">
					support_service_flag,
				</if>
				<if test="item.serviceFlag != null">
					service_flag,
				</if>
				<if test="item.evaluateFlag != null">
					evaluate_flag,
				</if>
				<if test="item.productUserNum != null">
					product_user_num,
				</if>
				<if test="item.createUser != null">
					create_user,
				</if>
				<if test="item.createTime != null">
					create_time,
				</if>
				<if test="item.orderSource != null">
					order_source,
				</if>
				<if test="item.logisticsId != null">
					logistics_id,
				</if>
				<if test="item.modifyUser != null">
					modify_user,
				</if>
				<if test="item.modifyTime != null">
					modify_time,
				</if>
			</trim>
			<trim prefix="values (" suffix=")" suffixOverrides=",">
				<if test="item.id != null">
					#{item.id,jdbcType=VARCHAR},
				</if>
				<if test="item.parentId != null">
					#{item.parentId,jdbcType=VARCHAR},
				</if>
				<if test="item.mainOrderFlag != null">
					#{item.mainOrderFlag,jdbcType=DECIMAL},
				</if>
				<if test="item.hasChildFlag != null">
					#{item.hasChildFlag,jdbcType=DECIMAL},
				</if>
				<if test="item.areaCode != null">
					#{item.areaCode,jdbcType=VARCHAR},
				</if>
				<if test="item.areaName != null">
					#{item.areaName,jdbcType=VARCHAR},
				</if>
				<if test="item.systemCode != null">
					#{item.systemCode,jdbcType=VARCHAR},
				</if>
				<if test="item.systemName != null">
					#{item.systemName,jdbcType=VARCHAR},
				</if>
				<if test="item.orderNo != null">
					#{item.orderNo,jdbcType=VARCHAR},
				</if>
				<if test="item.tradeNo != null">
					#{item.tradeNo,jdbcType=VARCHAR},
				</if>
				<if test="item.orderName != null">
					#{item.orderName,jdbcType=VARCHAR},
				</if>
				<if test="item.orderType != null">
					#{item.orderType,jdbcType=DECIMAL},
				</if>
				<if test="item.orderTypeName != null">
					#{item.orderTypeName,jdbcType=DECIMAL},
				</if>
				<if test="item.orderRemark != null">
					#{item.orderRemark,jdbcType=VARCHAR},
				</if>
				<if test="item.merchantId != null">
					#{item.merchantId,jdbcType=VARCHAR},
				</if>
				<if test="item.merchantName != null">
					#{item.merchantName,jdbcType=VARCHAR},
				</if>
				<if test="item.merchantImgUrl != null">
					#{item.merchantImgUrl,jdbcType=VARCHAR},
				</if>
				<if test="item.branchId != null">
					#{item.branchId,jdbcType=VARCHAR},
				</if>
				<if test="item.branchName != null">
					#{item.branchName,jdbcType=VARCHAR},
				</if>
				<if test="item.branchImgUrl != null">
					#{item.branchImgUrl,jdbcType=VARCHAR},
				</if>
				<if test="item.productId != null">
					#{item.productId,jdbcType=VARCHAR},
				</if>
				<if test="item.productName != null">
					#{item.productName,jdbcType=VARCHAR},
				</if>
				<if test="item.productImgUrl != null">
					#{item.productImgUrl,jdbcType=VARCHAR},
				</if>
				<if test="item.productPrice != null">
					#{item.productPrice,jdbcType=DECIMAL},
				</if>
				<if test="item.productNum != null">
					#{item.productNum,jdbcType=DECIMAL},
				</if>
				<if test="item.productTotalPrice != null">
					#{item.productTotalPrice,jdbcType=DECIMAL},
				</if>
				<if test="item.couponAmount != null">
					#{item.couponAmount,jdbcType=DECIMAL},
				</if>
				<if test="item.carriageFee != null">
					#{item.carriageFee,jdbcType=DECIMAL},
				</if>
				<if test="item.cashbackAmount != null">
					#{item.cashbackAmount,jdbcType=DECIMAL},
				</if>
				<if test="item.giftCardAmount != null">
					#{item.giftCardAmount,jdbcType=DECIMAL},
				</if>
				<if test="item.refundAmount != null">
					#{item.refundAmount,jdbcType=DECIMAL},
				</if>
				<if test="item.actualPaidAmount != null">
					#{item.actualPaidAmount,jdbcType=DECIMAL},
				</if>
				<if test="item.orderState != null">
					#{item.orderState,jdbcType=DECIMAL},
				</if>
				<if test="item.serviceState != null">
					#{item.serviceState,jdbcType=DECIMAL},
				</if>
				<if test="item.supportExchangeFlag != null">
					#{item.supportExchangeFlag,jdbcType=DECIMAL},
				</if>
				<if test="item.supportRefundFlag != null">
					#{item.supportRefundFlag,jdbcType=DECIMAL},
				</if>
				<if test="item.supportBillingFlag != null">
					#{item.supportBillingFlag,jdbcType=DECIMAL},
				</if>
				<if test="item.supportSellFlag != null">
					#{item.supportSellFlag,jdbcType=DECIMAL},
				</if>
				<if test="item.billingFlag != null">
					#{item.billingFlag,jdbcType=DECIMAL},
				</if>
				<if test="item.sellFlag != null">
					#{item.sellFlag,jdbcType=DECIMAL},
				</if>
				<if test="item.supportServiceFlag != null">
					#{item.supportServiceFlag,jdbcType=DECIMAL},
				</if>
				<if test="item.serviceFlag != null">
					#{item.serviceFlag,jdbcType=DECIMAL},
				</if>
				<if test="item.evaluateFlag != null">
					#{item.evaluateFlag,jdbcType=DECIMAL},
				</if>
				<if test="item.productUserNum != null">
					#{item.productUserNum,jdbcType=DECIMAL},
				</if>
				<if test="item.createUser != null">
					#{item.createUser,jdbcType=VARCHAR},
				</if>
				<if test="item.createTime != null">
					#{item.createTime,jdbcType=TIMESTAMP},
				</if>
				<if test="item.orderSource != null">
					#{item.orderSource,jdbcType=DECIMAL},
				</if>
				<if test="item.logisticsId != null">
					#{item.logisticsId,jdbcType=VARCHAR},
				</if>
				<if test="item.modifyUser != null">
					#{item.modifyUser,jdbcType=VARCHAR},
				</if>
				<if test="item.modifyTime != null">
					#{item.modifyTime,jdbcType=TIMESTAMP},
				</if>
			</trim>
		</foreach>
		end;
	</insert>

	<update id="updateOrderByIdOrNo" parameterType="com.sn.smart.order.entity.Order">
		<if test="id != null || orderNo != null">
			update t_order
			<set>
				<if test="parentId != null">
					parent_id = #{parentId,jdbcType=VARCHAR},
				</if>
				<if test="mainOrderFlag != null">
					main_order_flag = #{mainOrderFlag,jdbcType=DECIMAL},
				</if>
				<if test="hasChildFlag != null">
					has_child_flag = #{hasChildFlag,jdbcType=DECIMAL},
				</if>
				<if test="areaCode != null">
					area_code = #{areaCode,jdbcType=VARCHAR},
				</if>
				<if test="areaName != null">
					area_name = #{areaName,jdbcType=VARCHAR},
				</if>
				<if test="systemCode != null">
					system_code = #{systemCode,jdbcType=VARCHAR},
				</if>
				<if test="systemName != null">
					system_Name = #{systemName,jdbcType=VARCHAR},
				</if>
				<!-- <if test="orderNo != null"> 
					order_no = #{orderNo,jdbcType=VARCHAR}, 
					</if> -->
				<if test="tradeNo != null">
					trade_no = #{tradeNo,jdbcType=VARCHAR},
				</if>
				<if test="orderName != null">
					order_name = #{orderName,jdbcType=VARCHAR},
				</if>
				<if test="orderType != null">
					order_type = #{orderType,jdbcType=DECIMAL},
				</if>
				<if test="orderTypeName != null">
					order_type_name = #{orderTypeName,jdbcType=DECIMAL},
				</if>
				<if test="orderRemark != null">
					order_remark = #{orderRemark,jdbcType=VARCHAR},
				</if>
				<if test="merchantId != null">
					merchant_id = #{merchantId,jdbcType=VARCHAR},
				</if>
				<if test="merchantName != null">
					merchant_name = #{merchantName,jdbcType=VARCHAR},
				</if>
				<if test="merchantImgUrl != null">
					merchant_img_url = #{merchantImgUrl,jdbcType=VARCHAR},
				</if>
				<if test="branchId != null">
					branch_id = #{branchId,jdbcType=VARCHAR},
				</if>
				<if test="branchName != null">
					branch_name = #{branchName,jdbcType=VARCHAR},
				</if>
				<if test="branchImgUrl != null">
					branch_img_url = #{branchImgUrl,jdbcType=VARCHAR},
				</if>
				<if test="productId != null">
					product_id = #{productId,jdbcType=VARCHAR},
				</if>
				<if test="productName != null">
					product_name = #{productName,jdbcType=VARCHAR},
				</if>
				<if test="productImgUrl != null">
					product_img_url = #{productImgUrl,jdbcType=VARCHAR},
				</if>
				<if test="productPrice != null">
					product_price = #{productPrice,jdbcType=DECIMAL},
				</if>
				<if test="productNum != null">
					product_num = #{productNum,jdbcType=DECIMAL},
				</if>
				<if test="productTotalPrice != null">
					product_total_price = #{productTotalPrice,jdbcType=DECIMAL},
				</if>
				<if test="couponAmount != null">
					coupon_amount = #{couponAmount,jdbcType=DECIMAL},
				</if>
				<if test="carriageFee != null">
					carriage_fee = #{carriageFee,jdbcType=DECIMAL},
				</if>
				<if test="cashbackAmount != null">
					cashback_amount = #{cashbackAmount,jdbcType=DECIMAL},
				</if>
				<if test="giftCardAmount != null">
					gift_card_amount = #{giftCardAmount,jdbcType=DECIMAL},
				</if>
				<if test="refundAmount != null">
					refund_amount = #{refundAmount,jdbcType=DECIMAL},
				</if>
				<if test="actualPaidAmount != null">
					actual_paid_amount = #{actualPaidAmount,jdbcType=DECIMAL},
				</if>
				<if test="orderState != null">
					order_state = #{orderState,jdbcType=DECIMAL},
				</if>
				<if test="serviceState != null">
					service_state = #{serviceState,jdbcType=DECIMAL},
				</if>
				<if test="supportExchangeFlag != null">
					support_exchange_flag = #{supportExchangeFlag,jdbcType=DECIMAL},
				</if>
				<if test="supportRefundFlag != null">
					support_refund_flag = #{supportRefundFlag,jdbcType=DECIMAL},
				</if>
				<if test="supportBillingFlag != null">
					support_billing_flag = #{supportBillingFlag,jdbcType=DECIMAL},
				</if>
				<if test="supportSellFlag != null">
					support_sell_flag = #{supportSellFlag,jdbcType=DECIMAL},
				</if>
				<if test="billingFlag != null">
					billing_flag = #{billingFlag,jdbcType=DECIMAL},
				</if>
				<if test="sellFlag != null">
					sell_flag = #{sellFlag,jdbcType=DECIMAL},
				</if>
				<if test="supportServiceFlag != null">
					support_service_flag = #{supportServiceFlag,jdbcType=DECIMAL},
				</if>
				<if test="serviceFlag != null">
					service_flag = #{serviceFlag,jdbcType=DECIMAL},
				</if>
				<if test="evaluateFlag != null">
					evaluate_flag = #{evaluateFlag,jdbcType=DECIMAL},
				</if>
				<if test="productUserNum != null">
					product_user_num = #{productUserNum,jdbcType=DECIMAL},
				</if>
				<if test="createUser != null">
					create_user = #{createUser,jdbcType=VARCHAR},
				</if>
				<if test="createTime != null">
					create_time = #{createTime,jdbcType=TIMESTAMP},
				</if>
				<if test="orderSource != null">
					order_source = #{orderSource,jdbcType=DECIMAL},
				</if>
				<if test="logisticsId != null">
					logistics_id = #{logisticsId,jdbcType=VARCHAR},
				</if>
				<if test="modifyUser != null">
					modify_user = #{modifyUser,jdbcType=VARCHAR},
				</if>
				<if test="modifyTime != null">
					modify_time = #{modifyTime,jdbcType=TIMESTAMP},
				</if>
			</set>
			where order_state <![CDATA[ != ]]> 0
			<if test="id != null">
				and id = #{id,jdbcType=VARCHAR}
			</if>
			<if test="orderNo != null">
				and order_no = #{orderNo,jdbcType=VARCHAR}
			</if>
		</if>
	</update>

	<update id="bachUpdateOrderByIdOrNo">
		begin
		<foreach collection="list" item="item" index="index"
			separator=";" close=";">
			<if test="item.id != null || item.orderNo != null">
				update t_order
				<set>
					<if test="item.parentId != null">
						parent_id = #{item.parentId,jdbcType=VARCHAR},
					</if>
					<if test="item.mainOrderFlag != null">
						main_order_flag = #{item.mainOrderFlag,jdbcType=DECIMAL},
					</if>
					<if test="item.hasChildFlag != null">
						has_child_flag = #{item.hasChildFlag,jdbcType=DECIMAL},
					</if>
					<if test="item.areaCode != null">
						area_code = #{item.areaCode,jdbcType=VARCHAR},
					</if>
					<if test="item.areaName != null">
						area_name = #{item.areaName,jdbcType=VARCHAR},
					</if>
					<if test="item.systemCode != null">
						system_code = #{item.systemCode,jdbcType=VARCHAR},
					</if>
					<if test="item.systemName != null">
						system_name = #{item.systemName,jdbcType=VARCHAR},
					</if>
					<if test="item.orderNo != null">
						order_no = #{item.orderNo,jdbcType=VARCHAR},
					</if>
					<if test="item.tradeNo != null">
						trade_no = #{item.tradeNo,jdbcType=VARCHAR},
					</if>
					<if test="item.orderName != null">
						order_name = #{item.orderName,jdbcType=VARCHAR},
					</if>
					<if test="item.orderType != null">
						order_type = #{item.orderType,jdbcType=DECIMAL},
					</if>
					<if test="item.orderTypeName != null">
						order_type = #{item.orderTypeName,jdbcType=DECIMAL},
					</if>
					<if test="item.orderRemark != null">
						order_remark = #{item.orderRemark,jdbcType=VARCHAR},
					</if>
					<if test="item.merchantId != null">
						merchant_id = #{item.merchantId,jdbcType=VARCHAR},
					</if>
					<if test="item.merchantName != null">
						merchant_name = #{item.merchantName,jdbcType=VARCHAR},
					</if>
					<if test="item.merchantImgUrl != null">
						merchant_img_url = #{item.merchantImgUrl,jdbcType=VARCHAR},
					</if>
					<if test="item.branchId != null">
						branch_id = #{item.branchId,jdbcType=VARCHAR},
					</if>
					<if test="item.branchName != null">
						branch_name = #{item.branchName,jdbcType=VARCHAR},
					</if>
					<if test="item.branchImgUrl != null">
						branch_img_url = #{item.branchImgUrl,jdbcType=VARCHAR},
					</if>
					<if test="item.productId != null">
						product_id = #{item.productId,jdbcType=VARCHAR},
					</if>
					<if test="item.productName != null">
						product_name = #{item.productName,jdbcType=VARCHAR},
					</if>
					<if test="item.productImgUrl != null">
						product_img_url = #{item.productImgUrl,jdbcType=VARCHAR},
					</if>
					<if test="item.productPrice != null">
						product_price = #{item.productPrice,jdbcType=DECIMAL},
					</if>
					<if test="item.productNum != null">
						product_num = #{item.productNum,jdbcType=DECIMAL},
					</if>
					<if test="item.productTotalPrice != null">
						product_total_price = #{item.productTotalPrice,jdbcType=DECIMAL},
					</if>
					<if test="item.couponAmount != null">
						coupon_amount = #{item.couponAmount,jdbcType=DECIMAL},
					</if>
					<if test="item.carriageFee != null">
						carriage_fee = #{item.carriageFee,jdbcType=DECIMAL},
					</if>
					<if test="item.cashbackAmount != null">
						cashback_amount = #{item.cashbackAmount,jdbcType=DECIMAL},
					</if>
					<if test="item.giftCardAmount != null">
						gift_card_amount = #{item.giftCardAmount,jdbcType=DECIMAL},
					</if>
					<if test="item.refundAmount != null">
						refund_amount = #{item.refundAmount,jdbcType=DECIMAL},
					</if>
					<if test="item.actualPaidAmount != null">
						actual_paid_amount = #{item.actualPaidAmount,jdbcType=DECIMAL},
					</if>
					<if test="item.orderState != null">
						order_state = #{item.orderState,jdbcType=DECIMAL},
					</if>
					<if test="item.serviceState != null">
						service_state = #{item.serviceState,jdbcType=DECIMAL},
					</if>
					<if test="item.supportExchangeFlag != null">
						support_exchange_flag = #{item.supportExchangeFlag,jdbcType=DECIMAL},
					</if>
					<if test="item.supportRefundFlag != null">
						support_refund_flag = #{item.supportRefundFlag,jdbcType=DECIMAL},
					</if>
					<if test="item.supportBillingFlag != null">
						support_billing_flag = #{item.supportBillingFlag,jdbcType=DECIMAL},
					</if>
					<if test="item.supportSellFlag != null">
						support_sell_flag = #{item.supportSellFlag,jdbcType=DECIMAL},
					</if>
					<if test="item.billingFlag != null">
						billing_flag = #{item.billingFlag,jdbcType=DECIMAL},
					</if>
					<if test="item.sellFlag != null">
						sell_flag = #{item.sellFlag,jdbcType=DECIMAL},
					</if>
					<if test="item.supportServiceFlag != null">
						support_service_flag = #{item.supportServiceFlag,jdbcType=DECIMAL},
					</if>
					<if test="item.serviceFlag != null">
						service_flag = #{item.serviceFlag,jdbcType=DECIMAL},
					</if>
					<if test="item.evaluateFlag != null">
						evaluate_flag = #{item.evaluateFlag,jdbcType=DECIMAL},
					</if>
					<if test="item.productUserNum != null">
						product_user_num = #{item.productUserNum,jdbcType=DECIMAL},
					</if>
					<if test="item.createUser != null">
						create_user = #{item.createUser,jdbcType=VARCHAR},
					</if>
					<if test="item.createTime != null">
						create_time = #{item.createTime,jdbcType=TIMESTAMP},
					</if>
					<if test="item.orderSource != null">
						order_source = #{item.orderSource,jdbcType=DECIMAL},
					</if>
					<if test="item.logisticsId != null">
						logistics_id = #{item.logisticsId,jdbcType=VARCHAR},
					</if>
					<if test="item.modifyUser != null">
						modify_user = #{item.modifyUser,jdbcType=VARCHAR},
					</if>
					<if test="item.modifyTime != null">
						modify_time = #{item.modifyTime,jdbcType=TIMESTAMP},
					</if>
				</set>
				where order_state <![CDATA[ != ]]> 0
				<if test="item.id != null">
					and id = #{item.id,jdbcType=VARCHAR}
				</if>
				<if test="item.orderNo != null">
					and order_no = #{item.orderNo,jdbcType=VARCHAR}
				</if>
			</if>
		</foreach>
		end;
	</update>

	<update id="updateOrderByParentId">
		update t_order
		<set>
			<if test="mainOrderFlag != null">
				main_order_flag = #{mainOrderFlag,jdbcType=DECIMAL},
			</if>
			<if test="hasChildFlag != null">
				has_child_flag = #{hasChildFlag,jdbcType=DECIMAL},
			</if>
			<if test="areaCode != null">
				area_code = #{areaCode,jdbcType=VARCHAR},
			</if>
			<if test="areaName != null">
				area_name = #{areaName,jdbcType=VARCHAR},
			</if>
			<if test="systemCode != null">
				system_code = #{systemCode,jdbcType=VARCHAR},
			</if>
			<if test="systemName != null">
				system_name = #{systemName,jdbcType=VARCHAR},
			</if>
			<if test="orderNo != null">
				order_no = #{orderNo,jdbcType=VARCHAR},
			</if>
			<if test="tradeNo != null">
				trade_no = #{tradeNo,jdbcType=VARCHAR},
			</if>
			<if test="orderName != null">
				order_name = #{orderName,jdbcType=VARCHAR},
			</if>
			<if test="orderType != null">
				order_type = #{orderType,jdbcType=DECIMAL},
			</if>
			<if test="orderTypeName != null">
				order_type_name = #{orderTypeName,jdbcType=DECIMAL},
			</if>
			<if test="orderRemark != null">
				order_remark = #{orderRemark,jdbcType=VARCHAR},
			</if>
			<if test="merchantId != null">
				merchant_id = #{merchantId,jdbcType=VARCHAR},
			</if>
			<if test="merchantName != null">
				merchant_name = #{merchantName,jdbcType=VARCHAR},
			</if>
			<if test="merchantImgUrl != null">
				merchant_img_url = #{merchantImgUrl,jdbcType=VARCHAR},
			</if>
			<if test="branchId != null">
				branch_id = #{branchId,jdbcType=VARCHAR},
			</if>
			<if test="branchName != null">
				branch_name = #{branchName,jdbcType=VARCHAR},
			</if>
			<if test="branchImgUrl != null">
				branch_img_url = #{branchImgUrl,jdbcType=VARCHAR},
			</if>
			<if test="productId != null">
				product_id = #{productId,jdbcType=VARCHAR},
			</if>
			<if test="productName != null">
				product_name = #{productName,jdbcType=VARCHAR},
			</if>
			<if test="productImgUrl != null">
				product_img_url = #{productImgUrl,jdbcType=VARCHAR},
			</if>
			<if test="productPrice != null">
				product_price = #{productPrice,jdbcType=DECIMAL},
			</if>
			<if test="productNum != null">
				product_num = #{productNum,jdbcType=DECIMAL},
			</if>
			<if test="productTotalPrice != null">
				product_total_price = #{productTotalPrice,jdbcType=DECIMAL},
			</if>
			<if test="couponAmount != null">
				coupon_amount = #{couponAmount,jdbcType=DECIMAL},
			</if>
			<if test="carriageFee != null">
				carriage_fee = #{carriageFee,jdbcType=DECIMAL},
			</if>
			<if test="cashbackAmount != null">
				cashback_amount = #{cashbackAmount,jdbcType=DECIMAL},
			</if>
			<if test="giftCardAmount != null">
				gift_card_amount = #{giftCardAmount,jdbcType=DECIMAL},
			</if>
			<if test="refundAmount != null">
				refund_amount = #{refundAmount,jdbcType=DECIMAL},
			</if>
			<if test="actualPaidAmount != null">
				actual_paid_amount = #{actualPaidAmount,jdbcType=DECIMAL},
			</if>
			<if test="orderState != null">
				order_state = #{orderState,jdbcType=DECIMAL},
			</if>
			<if test="serviceState != null">
				service_state = #{serviceState,jdbcType=DECIMAL},
			</if>
			<if test="supportExchangeFlag != null">
				support_exchange_flag = #{supportExchangeFlag,jdbcType=DECIMAL},
			</if>
			<if test="supportRefundFlag != null">
				support_refund_flag = #{supportRefundFlag,jdbcType=DECIMAL},
			</if>
			<if test="supportBillingFlag != null">
				support_billing_flag = #{supportBillingFlag,jdbcType=DECIMAL},
			</if>
			<if test="supportSellFlag != null">
				support_sell_flag = #{supportSellFlag,jdbcType=DECIMAL},
			</if>
			<if test="billingFlag != null">
				billing_flag = #{billingFlag,jdbcType=DECIMAL},
			</if>
			<if test="sellFlag != null">
				sell_flag = #{sellFlag,jdbcType=DECIMAL},
			</if>
			<if test="supportServiceFlag != null">
				support_service_flag = #{supportServiceFlag,jdbcType=DECIMAL},
			</if>
			<if test="serviceFlag != null">
				service_flag = #{serviceFlag,jdbcType=DECIMAL},
			</if>
			<if test="evaluateFlag != null">
				evaluate_flag = #{evaluateFlag,jdbcType=DECIMAL},
			</if>
			<if test="productUserNum != null">
				product_user_num = #{productUserNum,jdbcType=DECIMAL},
			</if>
			<if test="createUser != null">
				create_user = #{createUser,jdbcType=VARCHAR},
			</if>
			<if test="createTime != null">
				create_time = #{createTime,jdbcType=TIMESTAMP},
			</if>
			<if test="orderSource != null">
				order_source = #{orderSource,jdbcType=DECIMAL},
			</if>
			<if test="logisticsId != null">
				logistics_id = #{logisticsId,jdbcType=VARCHAR},
			</if>
			<if test="modifyUser != null">
				modify_user = #{modifyUser,jdbcType=VARCHAR},
			</if>
			<if test="modifyTime != null">
				modify_time = #{modifyTime,jdbcType=TIMESTAMP},
			</if>
		</set>
		where parent_id = #{parentId,jdbcType=VARCHAR}
		and order_state <![CDATA[ != ]]> 0
	</update>

	<update id="bachUpdateOrderByParentId">
		begin
		<foreach collection="list" item="item" index="index"
			separator=";" close=";">
			update t_order
			<set>
				<if test="item.mainOrderFlag != null">
					main_order_flag = #{item.mainOrderFlag,jdbcType=DECIMAL},
				</if>
				<if test="item.hasChildFlag != null">
					has_child_flag = #{hasChildFlag,jdbcType=DECIMAL},
				</if>
				<if test="item.areaCode != null">
					area_code = #{item.areaCode,jdbcType=VARCHAR},
				</if>
				<if test="item.areaName != null">
					area_name = #{item.areaName,jdbcType=VARCHAR},
				</if>
				<if test="item.systemCode != null">
					system_code = #{item.systemCode,jdbcType=VARCHAR},
				</if>
				<if test="item.systemName != null">
					system_name = #{item.systemName,jdbcType=VARCHAR},
				</if>
				<if test="item.orderNo != null">
					order_no = #{item.orderNo,jdbcType=VARCHAR},
				</if>
				<if test="item.tradeNo != null">
					trade_no = #{item.tradeNo,jdbcType=VARCHAR},
				</if>
				<if test="item.orderName != null">
					order_name = #{item.orderName,jdbcType=VARCHAR},
				</if>
				<if test="item.orderType != null">
					order_type = #{item.orderType,jdbcType=DECIMAL},
				</if>
				<if test="item.orderTypeName != null">
					order_type_name = #{item.orderTypeName,jdbcType=DECIMAL},
				</if>
				<if test="item.orderRemark != null">
					order_remark = #{item.orderRemark,jdbcType=VARCHAR},
				</if>
				<if test="item.merchantId != null">
					merchant_id = #{item.merchantId,jdbcType=VARCHAR},
				</if>
				<if test="item.merchantName != null">
					merchant_name = #{item.merchantName,jdbcType=VARCHAR},
				</if>
				<if test="item.merchantImgUrl != null">
					merchant_img_url = #{item.merchantImgUrl,jdbcType=VARCHAR},
				</if>
				<if test="item.branchId != null">
					branch_id = #{item.branchId,jdbcType=VARCHAR},
				</if>
				<if test="item.branchName != null">
					branch_name = #{item.branchName,jdbcType=VARCHAR},
				</if>
				<if test="item.branchImgUrl != null">
					branch_img_url = #{item.branchImgUrl,jdbcType=VARCHAR},
				</if>
				<if test="item.productId != null">
					product_id = #{item.productId,jdbcType=VARCHAR},
				</if>
				<if test="item.productName != null">
					product_name = #{item.productName,jdbcType=VARCHAR},
				</if>
				<if test="item.productImgUrl != null">
					product_img_url = #{item.productImgUrl,jdbcType=VARCHAR},
				</if>
				<if test="item.productPrice != null">
					product_price = #{item.productPrice,jdbcType=DECIMAL},
				</if>
				<if test="item.productNum != null">
					product_num = #{item.productNum,jdbcType=DECIMAL},
				</if>
				<if test="item.productTotalPrice != null">
					product_total_price = #{item.productTotalPrice,jdbcType=DECIMAL},
				</if>
				<if test="item.couponAmount != null">
					coupon_amount = #{item.couponAmount,jdbcType=DECIMAL},
				</if>
				<if test="item.carriageFee != null">
					carriage_fee = #{item.carriageFee,jdbcType=DECIMAL},
				</if>
				<if test="item.cashbackAmount != null">
					cashback_amount = #{item.cashbackAmount,jdbcType=DECIMAL},
				</if>
				<if test="item.giftCardAmount != null">
					gift_card_amount = #{item.giftCardAmount,jdbcType=DECIMAL},
				</if>
				<if test="item.refundAmount != null">
					refund_amount = #{item.refundAmount,jdbcType=DECIMAL},
				</if>
				<if test="item.actualPaidAmount != null">
					actual_paid_amount = #{item.actualPaidAmount,jdbcType=DECIMAL},
				</if>
				<if test="item.orderState != null">
					order_state = #{item.orderState,jdbcType=DECIMAL},
				</if>
				<if test="item.serviceState != null">
					service_state = #{item.serviceState,jdbcType=DECIMAL},
				</if>
				<if test="item.supportExchangeFlag != null">
					support_exchange_flag = #{item.supportExchangeFlag,jdbcType=DECIMAL},
				</if>
				<if test="item.supportRefundFlag != null">
					support_refund_flag = #{item.supportRefundFlag,jdbcType=DECIMAL},
				</if>
				<if test="item.supportBillingFlag != null">
					support_billing_flag = #{item.supportBillingFlag,jdbcType=DECIMAL},
				</if>
				<if test="item.supportSellFlag != null">
					support_sell_flag = #{item.supportSellFlag,jdbcType=DECIMAL},
				</if>
				<if test="item.billingFlag != null">
					billing_flag = #{item.billingFlag,jdbcType=DECIMAL},
				</if>
				<if test="item.sellFlag != null">
					sell_flag = #{item.sellFlag,jdbcType=DECIMAL},
				</if>
				<if test="item.supportServiceFlag != null">
					support_service_flag = #{item.supportServiceFlag,jdbcType=DECIMAL},
				</if>
				<if test="item.serviceFlag != null">
					service_flag = #{item.serviceFlag,jdbcType=DECIMAL},
				</if>
				<if test="item.evaluateFlag != null">
					evaluate_flag = #{item.evaluateFlag,jdbcType=DECIMAL},
				</if>
				<if test="item.productUserNum != null">
					product_user_num = #{item.productUserNum,jdbcType=DECIMAL},
				</if>
				<if test="item.createUser != null">
					create_user = #{item.createUser,jdbcType=VARCHAR},
				</if>
				<if test="item.createTime != null">
					create_time = #{item.createTime,jdbcType=TIMESTAMP},
				</if>
				<if test="item.orderSource != null">
					order_source = #{item.orderSource,jdbcType=DECIMAL},
				</if>
				<if test="item.logisticsId != null">
					logistics_id = #{item.logisticsId,jdbcType=VARCHAR},
				</if>
				<if test="item.modifyUser != null">
					modify_user = #{item.modifyUser,jdbcType=VARCHAR},
				</if>
				<if test="item.modifyTime != null">
					modify_time = #{item.modifyTime,jdbcType=TIMESTAMP},
				</if>
			</set>
			where parent_id = #{item.parentId,jdbcType=VARCHAR}
			and order_state <![CDATA[ != ]]> 0
		</foreach>
		end;
	</update>
</mapper>